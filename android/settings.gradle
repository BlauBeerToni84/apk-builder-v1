pluginManagement {
  repositories {
    google()
    mavenCentral()
    gradlePluginPortal()
  }
}
dependencyResolutionManagement {
  repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
  repositories {
    google()
    mavenCentral()
  }
}
rootProject.name = "app"
include(":app")

// RN autolinking
apply from: file("../node_modules/@react-native-community/cli-platform-android/native_modules.gradle")
applyNativeModulesSettingsGradle(settings)

// Expo (optional, falls vorhanden)
def expoAutolinking = null
try {
  def out = new ByteArrayOutputStream()
  def proc = ["node","--print","require.resolve('expo/autolinking')"].execute(null, rootDir)
  proc.consumeProcessOutput(out, System.err)
  proc.waitForOrKill(5000)
  expoAutolinking = out.toString().trim()
} catch (Exception ignored) {}
if (expoAutolinking) {
  apply from: new File(expoAutolinking, "android-settings.gradle")
}
